System.register("class-transformer/Include",[],function(t,e){"use strict";var r;e&&e.id;return{setters:[],execute:function(){!function(t){t.DEFAULT="DEFAULT",t.NON_NULL="NON_NULL"}(r||(r={})),t("Include",r)}}}),System.register("class-transformer/ClassTransformOptions",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("class-transformer/metadata/ExposeExcludeOptions",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("class-transformer/metadata/TypeMetadata",[],function(t,e){"use strict";var r;e&&e.id;return{setters:[],execute:function(){r=function(){function t(t,e,r,n,o){this.target=t,this.propertyName=e,this.reflectedType=r,this.typeFunction=n,this.options=o}return t}(),t("TypeMetadata",r)}}}),System.register("class-transformer/metadata/ExposeMetadata",[],function(t,e){"use strict";var r;e&&e.id;return{setters:[],execute:function(){r=function(){function t(t,e,r){this.target=t,this.propertyName=e,this.options=r}return t}(),t("ExposeMetadata",r)}}}),System.register("class-transformer/metadata/ExcludeMetadata",[],function(t,e){"use strict";var r;e&&e.id;return{setters:[],execute:function(){r=function(){function t(t,e,r){this.target=t,this.propertyName=e,this.options=r}return t}(),t("ExcludeMetadata",r)}}}),System.register("class-transformer/metadata/TransformMetadata",[],function(t,e){"use strict";var r;e&&e.id;return{setters:[],execute:function(){r=function(){function t(t,e,r,n){this.target=t,this.propertyName=e,this.transformFn=r,this.options=n}return t}(),t("TransformMetadata",r)}}}),System.register("class-transformer/metadata/MetadataStorage",["class-transformer/TransformOperationExecutor"],function(t,e){"use strict";var r,n;e&&e.id;return{setters:[function(t){r=t}],execute:function(){n=function(){function t(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return t.prototype.addTypeMetadata=function(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.addTransformMetadata=function(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)},t.prototype.addExposeMetadata=function(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.addExcludeMetadata=function(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.findTransformMetadatas=function(t,e,n){return this.findMetadatas(this._transformMetadatas,t,e).filter(function(t){return!t.options||(!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?n===r.TransformationType.CLASS_TO_CLASS||n===r.TransformationType.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||n===r.TransformationType.CLASS_TO_PLAIN))})},t.prototype.findExcludeMetadata=function(t,e){return this.findMetadata(this._excludeMetadatas,t,e)},t.prototype.findExposeMetadata=function(t,e){return this.findMetadata(this._exposeMetadatas,t,e)},t.prototype.findExposeMetadataByCustomName=function(t,e){return this.getExposedMetadatas(t).find(function(t){return t.options&&t.options.name===e})},t.prototype.findTypeMetadata=function(t,e){return this.findMetadata(this._typeMetadatas,t,e)},t.prototype.getStrategy=function(t){var e=this._excludeMetadatas.get(t),r=e&&e.get(void 0),n=this._exposeMetadatas.get(t),o=n&&n.get(void 0);return r&&o||!r&&!o?"none":r?"excludeAll":"exposeAll"},t.prototype.getExposedMetadatas=function(t){return this.getMetadata(this._exposeMetadatas,t)},t.prototype.getExcludedMetadatas=function(t){return this.getMetadata(this._excludeMetadatas,t)},t.prototype.getExposedProperties=function(t,e){return this.getExposedMetadatas(t).filter(function(t){return!t.options||(!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?e===r.TransformationType.CLASS_TO_CLASS||e===r.TransformationType.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||e===r.TransformationType.CLASS_TO_PLAIN))}).map(function(t){return t.propertyName})},t.prototype.getExcludedProperties=function(t,e){return this.getExcludedMetadatas(t).filter(function(t){return!t.options||(!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?e===r.TransformationType.CLASS_TO_CLASS||e===r.TransformationType.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||e===r.TransformationType.CLASS_TO_PLAIN))}).map(function(t){return t.propertyName})},t.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},t.prototype.getMetadata=function(t,e){var r,n=t.get(e);n&&(r=Array.from(n.values()).filter(function(t){return void 0!==t.propertyName}));for(var o=[],a=0,s=this.getAncestors(e);a<s.length;a++){var i=s[a],u=t.get(i);if(u){var p=Array.from(u.values()).filter(function(t){return void 0!==t.propertyName});o.push.apply(o,p)}}return o.concat(r||[])},t.prototype.findMetadata=function(t,e,r){var n=t.get(e);if(n){var o=n.get(r);if(o)return o}for(var a=0,s=this.getAncestors(e);a<s.length;a++){var i=s[a],u=t.get(i);if(u){var p=u.get(r);if(p)return p}}},t.prototype.findMetadatas=function(t,e,r){var n,o=t.get(e);o&&(n=o.get(r));for(var a=[],s=0,i=this.getAncestors(e);s<i.length;s++){var u=i[s],p=t.get(u);p&&p.has(r)&&a.push.apply(a,p.get(r))}return a.reverse().concat((n||[]).reverse())},t.prototype.getAncestors=function(t){if(!t)return[];if(!this._ancestorsMap.has(t)){for(var e=[],r=Object.getPrototypeOf(t.prototype.constructor);void 0!==r.prototype;r=Object.getPrototypeOf(r.prototype.constructor))e.push(r);this._ancestorsMap.set(t,e)}return this._ancestorsMap.get(t)},t}(),t("MetadataStorage",n)}}}),System.register("class-transformer/storage",["class-transformer/metadata/MetadataStorage"],function(t,e){"use strict";var r,n;e&&e.id;return{setters:[function(t){r=t}],execute:function(){t("defaultMetadataStorage",n=new r.MetadataStorage)}}}),System.register("class-transformer/TransformOperationExecutor",["class-transformer/storage","class-transformer/Include"],function(t,e){"use strict";function r(t){var e=new t;return e instanceof Set||"push"in e?e:[]}function n(){try{return Buffer,!0}catch(t){}return!1}var o,a,s,i;e&&e.id;return t("testForBuffer",n),{setters:[function(t){o=t},function(t){a=t}],execute:function(){!function(t){t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(s||(s={})),t("TransformationType",s),i=function(){function t(t,e){this.transformationType=t,this.options=e,this.recursionStack=new Set}return t.prototype.transform=function(t,e,a,i,u,p){var f=this;if(void 0===p&&(p=0),Array.isArray(e)||e instanceof Set){var c=i&&this.transformationType===s.PLAIN_TO_CLASS?r(i):[];return e.forEach(function(e,r){var n=t?t[r]:void 0;if(f.options.enableCircularCheck&&f.isCircular(e))f.transformationType===s.CLASS_TO_CLASS&&(c instanceof Set?c.add(e):c.push(e));else{var o=void 0;if("function"!=typeof a&&a&&a.options&&a.options.discriminator&&a.options.discriminator.property&&a.options.discriminator.subTypes){if(f.transformationType===s.PLAIN_TO_CLASS){o=a.options.discriminator.subTypes.find(function(t){return t.name===e[a.options.discriminator.property]});var i={newObject:c,object:e,property:void 0},u=a.typeFunction(i);o=void 0===o?u:o.value,a.options.keepDiscriminatorProperty||delete e[a.options.discriminator.property]}f.transformationType===s.CLASS_TO_CLASS&&(o=e.constructor),f.transformationType===s.CLASS_TO_PLAIN&&(e[a.options.discriminator.property]=a.options.discriminator.subTypes.find(function(t){return t.value===e.constructor}).name)}else o=a;var d=f.transform(n,e,o,void 0,e instanceof Map,p+1);c instanceof Set?c.add(d):c.push(d)}}),c}if(a!==String||u){if(a!==Number||u){if(a!==Boolean||u){if((a===Date||e instanceof Date)&&!u)return e instanceof Date?new Date(e.valueOf()):null===e||void 0===e?e:new Date(e);if(n()&&(a===Buffer||e instanceof Buffer)&&!u)return null===e||void 0===e?e:Buffer.from(e);if("object"==typeof e&&null!==e){a||e.constructor===Object||(a=e.constructor),!a&&t&&(a=t.constructor),this.options.enableCircularCheck&&this.recursionStack.add(e);var d=this.getKeys(a,e),l=t||{};t||this.transformationType!==s.PLAIN_TO_CLASS&&this.transformationType!==s.CLASS_TO_CLASS||(l=u?new Map:a?new a:{});for(var m=this,y=0,T=d;y<T.length;y++){var S=T[y];!function(r){var n=r,i=r,f=r;if(!m.options.ignoreDecorators&&a)if(m.transformationType===s.PLAIN_TO_CLASS){var c=o.defaultMetadataStorage.findExposeMetadataByCustomName(a,r);c&&(f=c.propertyName,i=c.propertyName)}else if(m.transformationType===s.CLASS_TO_PLAIN||m.transformationType===s.CLASS_TO_CLASS){var c=o.defaultMetadataStorage.findExposeMetadata(a,r);c&&c.options&&c.options.name&&(i=c.options.name)}var d=void 0;d=e instanceof Map?e.get(n):e[n]instanceof Function?e[n]():e[n];var y=void 0,T=d instanceof Map;if(a&&u)y=a;else if(a){var S=o.defaultMetadataStorage.findTypeMetadata(a,f);if(S){var h={newObject:l,object:e,property:f},v=S.typeFunction?S.typeFunction(h):S.reflectedType;S.options&&S.options.discriminator&&S.options.discriminator.property&&S.options.discriminator.subTypes?e[n]instanceof Array?y=S:(m.transformationType===s.PLAIN_TO_CLASS&&(y=S.options.discriminator.subTypes.find(function(t){if(d&&S.options.discriminator.property in d)return t.name===d[S.options.discriminator.property]}),y=void 0===y?v:y.value,S.options.keepDiscriminatorProperty||d&&S.options.discriminator.property in d&&delete d[S.options.discriminator.property]),m.transformationType===s.CLASS_TO_CLASS&&(y=d.constructor),m.transformationType===s.CLASS_TO_PLAIN&&(d[S.options.discriminator.property]=S.options.discriminator.subTypes.find(function(t){return t.value===d.constructor}).name)):y=v,T=T||S.reflectedType===Map}else if(m.options.targetMaps)m.options.targetMaps.filter(function(t){return t.target===a&&!!t.properties[f]}).forEach(function(t){return y=t.properties[f]});else if(m.options.enableImplicitConversion&&m.transformationType===s.PLAIN_TO_CLASS){var g=Reflect.getMetadata("design:type",a.prototype,f);g&&(y=g)}}var _=Array.isArray(e[n])?m.getReflectedType(a,f):void 0,M=t?t[n]:void 0;if(l.constructor.prototype){var C=Object.getOwnPropertyDescriptor(l.constructor.prototype,i);if((m.transformationType===s.PLAIN_TO_CLASS||m.transformationType===s.CLASS_TO_CLASS)&&(C&&!C.set||l[i]instanceof Function))return"continue"}if(m.options.enableCircularCheck&&m.isCircular(d)){if(m.transformationType===s.CLASS_TO_CLASS){var A=d;A=m.applyCustomTransformations(A,a,r,e,m.transformationType),l instanceof Map?l.set(i,A):l[i]=A}}else{var L=m.transformationType===s.PLAIN_TO_CLASS?i:r,A=void 0;m.transformationType===s.CLASS_TO_PLAIN?(A=e[L],A=m.applyCustomTransformations(A,a,L,e,m.transformationType),A=e[L]===A?d:A,A=m.transform(M,A,y,_,T,p+1)):(A=m.transform(M,d,y,_,T,p+1),A=m.applyCustomTransformations(A,a,L,e,m.transformationType)),l instanceof Map?l.set(i,A):l[i]=A}}(S)}return this.options.enableCircularCheck&&this.recursionStack.delete(e),l}return e}return null===e||void 0===e?e:Boolean(e)}return null===e||void 0===e?e:Number(e)}return null===e||void 0===e?e:String(e)},t.prototype.applyCustomTransformations=function(t,e,r,n,a){var s=this,i=o.defaultMetadataStorage.findTransformMetadatas(e,r,this.transformationType);return void 0!==this.options.version&&(i=i.filter(function(t){return!t.options||s.checkVersion(t.options.since,t.options.until)})),i=this.options.groups&&this.options.groups.length?i.filter(function(t){return!t.options||s.checkGroups(t.options.groups)}):i.filter(function(t){return!t.options||!t.options.groups||!t.options.groups.length}),i.forEach(function(e){t=e.transformFn(t,n,a)}),t},t.prototype.isCircular=function(t){return this.recursionStack.has(t)},t.prototype.getReflectedType=function(t,e){if(t){var r=o.defaultMetadataStorage.findTypeMetadata(t,e);return r?r.reflectedType:void 0}},t.prototype.getKeys=function(t,e){var r=this,n=o.defaultMetadataStorage.getStrategy(t);"none"===n&&(n=this.options.strategy||"exposeAll");var i=[];if("exposeAll"===n&&(i=e instanceof Map?Array.from(e.keys()):Object.keys(e)),!this.options.ignoreDecorators&&t){var u=o.defaultMetadataStorage.getExposedProperties(t,this.transformationType);this.transformationType===s.PLAIN_TO_CLASS&&(u=u.map(function(e){var r=o.defaultMetadataStorage.findExposeMetadata(t,e);return r&&r.options&&r.options.name?r.options.name:e})),i=this.options.excludeExtraneousValues?u:i.concat(u);var p=o.defaultMetadataStorage.getExcludedProperties(t,this.transformationType);p.length>0&&(i=i.filter(function(t){return-1===p.indexOf(t)})),void 0!==this.options.version&&(i=i.filter(function(e){var n=o.defaultMetadataStorage.findExposeMetadata(t,e);return!n||!n.options||r.checkVersion(n.options.since,n.options.until)})),i=this.options.groups&&this.options.groups.length?i.filter(function(e){var n=o.defaultMetadataStorage.findExposeMetadata(t,e);return!n||!n.options||r.checkGroups(n.options.groups)}):i.filter(function(e){var r=o.defaultMetadataStorage.findExposeMetadata(t,e);return!(r&&r.options&&r.options.groups&&r.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(i=i.filter(function(t){return r.options.excludePrefixes.every(function(e){return t.substr(0,e.length)!==e})})),i=i.filter(function(t,e,r){return r.indexOf(t)===e}),i=this.applyIncludePolicy(i,e,this.options.includePolicy||a.Include.DEFAULT)},t.prototype.checkVersion=function(t,e){var r=!0;return r&&t&&(r=this.options.version>=t),r&&e&&(r=this.options.version<e),r},t.prototype.checkGroups=function(t){return!t||this.options.groups.some(function(e){return-1!==t.indexOf(e)})},t.prototype.applyIncludePolicy=function(t,e,r){if(r===a.Include.DEFAULT)return t;if(r===a.Include.NON_NULL)return t.filter(function(t){return null!==e[t]});throw new Error("Unsupported Include policy "+r)},t}(),t("TransformOperationExecutor",i)}}}),System.register("class-transformer/ClassTransformer",["class-transformer/TransformOperationExecutor"],function(t,e){"use strict";var r,n;e&&e.id;return{setters:[function(t){r=t}],execute:function(){n=function(){function t(){}return t.prototype.classToPlain=function(t,e){return new r.TransformOperationExecutor(r.TransformationType.CLASS_TO_PLAIN,e||{}).transform(void 0,t,void 0,void 0,void 0,void 0)},t.prototype.classToPlainFromExist=function(t,e,n){return new r.TransformOperationExecutor(r.TransformationType.CLASS_TO_PLAIN,n||{}).transform(e,t,void 0,void 0,void 0,void 0)},t.prototype.plainToClass=function(t,e,n){return new r.TransformOperationExecutor(r.TransformationType.PLAIN_TO_CLASS,n||{}).transform(void 0,e,t,void 0,void 0,void 0)},t.prototype.plainToClassFromExist=function(t,e,n){return new r.TransformOperationExecutor(r.TransformationType.PLAIN_TO_CLASS,n||{}).transform(t,e,void 0,void 0,void 0,void 0)},t.prototype.classToClass=function(t,e){return new r.TransformOperationExecutor(r.TransformationType.CLASS_TO_CLASS,e||{}).transform(void 0,t,void 0,void 0,void 0,void 0)},t.prototype.classToClassFromExist=function(t,e,n){return new r.TransformOperationExecutor(r.TransformationType.CLASS_TO_CLASS,n||{}).transform(e,t,void 0,void 0,void 0,void 0)},t.prototype.serialize=function(t,e){return JSON.stringify(this.classToPlain(t,e))},t.prototype.deserialize=function(t,e,r){var n=JSON.parse(e);return this.plainToClass(t,n,r)},t.prototype.deserializeArray=function(t,e,r){var n=JSON.parse(e);return this.plainToClass(t,n,r)},t}(),t("ClassTransformer",n)}}}),System.register("class-transformer/decorators",["class-transformer/ClassTransformer","class-transformer/storage","class-transformer/metadata/TypeMetadata","class-transformer/metadata/ExposeMetadata","class-transformer/metadata/ExcludeMetadata","class-transformer/metadata/TransformMetadata"],function(t,e){"use strict";function r(t,e){return function(r,n){var o=new m.TransformMetadata(r.constructor,n,t,e);f.defaultMetadataStorage.addTransformMetadata(o)}}function n(t,e){return function(r,n){var o=Reflect.getMetadata("design:type",r,n),a=new c.TypeMetadata(r.constructor,n,o,t,e);f.defaultMetadataStorage.addTypeMetadata(a)}}function o(t){return function(e,r){var n=new d.ExposeMetadata(e instanceof Function?e:e.constructor,r,t||{});f.defaultMetadataStorage.addExposeMetadata(n)}}function a(t){return function(e,r){var n=new l.ExcludeMetadata(e instanceof Function?e:e.constructor,r,t||{});f.defaultMetadataStorage.addExcludeMetadata(n)}}function s(t){return function(e,r,n){var o=new p.ClassTransformer,a=n.value;n.value=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=a.apply(this,e);return!n||"object"!=typeof n&&"function"!=typeof n||"function"!=typeof n.then?o.classToPlain(n,t):n.then(function(e){return o.classToPlain(e,t)})}}}function i(t){return function(e,r,n){var o=new p.ClassTransformer,a=n.value;n.value=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=a.apply(this,e);return!n||"object"!=typeof n&&"function"!=typeof n||"function"!=typeof n.then?o.classToClass(n,t):n.then(function(e){return o.classToClass(e,t)})}}}function u(t,e){return function(r,n,o){var a=new p.ClassTransformer,s=o.value;o.value=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=s.apply(this,r);return!o||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then?a.plainToClass(t,o,e):o.then(function(r){return a.plainToClass(t,r,e)})}}}var p,f,c,d,l,m;e&&e.id;return t("Transform",r),t("Type",n),t("Expose",o),t("Exclude",a),t("TransformClassToPlain",s),t("TransformClassToClass",i),t("TransformPlainToClass",u),{setters:[function(t){p=t},function(t){f=t},function(t){c=t},function(t){d=t},function(t){l=t},function(t){m=t}],execute:function(){}}}),System.register("class-transformer/index",["class-transformer/ClassTransformer","class-transformer/decorators"],function(t,e){"use strict";function r(t,e){return l.classToPlain(t,e)}function n(t,e,r){return l.classToPlainFromExist(t,e,r)}function o(t,e,r){return l.plainToClass(t,e,r)}function a(t,e,r){return l.plainToClassFromExist(t,e,r)}function s(t,e){return l.classToClass(t,e)}function i(t,e,r){return l.classToClassFromExist(t,e,r)}function u(t,e){return l.serialize(t,e)}function p(t,e,r){return l.deserialize(t,e,r)}function f(t,e,r){return l.deserializeArray(t,e,r)}function c(e){var r={};for(var n in e)"default"===n||y.hasOwnProperty(n)||(r[n]=e[n]);t(r)}var d,l,m;e&&e.id;t("classToPlain",r),t("classToPlainFromExist",n),t("plainToClass",o),t("plainToClassFromExist",a),t("classToClass",s),t("classToClassFromExist",i),t("serialize",u),t("deserialize",p),t("deserializeArray",f);var y={classToPlain:!0,classToPlainFromExist:!0,plainToClass:!0,plainToClassFromExist:!0,classToClass:!0,classToClassFromExist:!0,serialize:!0,deserialize:!0,deserializeArray:!0,TransformationType:!0,ClassTransformer:!0};return{setters:[function(e){d=e,t({ClassTransformer:e.ClassTransformer})},function(t){c(t)}],execute:function(){l=new d.ClassTransformer,function(t){t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(m||(m={})),t("TransformationType",m)}}}),System.register("class-transformer",["class-transformer/index"],function(t,e){"use strict";function r(e){var r={};for(var n in e)"default"!==n&&(r[n]=e[n]);t(r)}e&&e.id;return{setters:[function(t){r(t)}],execute:function(){}}});